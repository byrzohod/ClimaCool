<div class="bg-white p-6 rounded-lg shadow-md">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold text-gray-900">Filters</h3>
    <button
      *ngIf="hasActiveFilters()"
      (click)="clearAllFilters()"
      class="text-sm text-blue-600 hover:text-blue-800 underline"
    >
      Clear All
    </button>
  </div>

  <!-- Category Filter -->
  <div class="mb-6">
    <label class="block text-sm font-medium text-gray-700 mb-2">
      Category
    </label>
    <select
      [(ngModel)]="filters.categoryId"
      (change)="onFiltersChange()"
      class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
    >
      <option value="">All Categories</option>
      <option *ngFor="let category of categories" [value]="category.id">
        {{ category.name }}
      </option>
    </select>
  </div>

  <!-- Price Range Filter -->
  <div class="mb-6">
    <label class="block text-sm font-medium text-gray-700 mb-2">
      Price Range
    </label>
    <div class="space-y-2">
      <div class="flex items-center space-x-2">
        <input
          type="number"
          [(ngModel)]="filters.minPrice"
          (change)="onFiltersChange()"
          placeholder="Min"
          min="0"
          step="0.01"
          class="flex-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        >
        <span class="text-gray-500">-</span>
        <input
          type="number"
          [(ngModel)]="filters.maxPrice"
          (change)="onFiltersChange()"
          placeholder="Max"
          min="0"
          step="0.01"
          class="flex-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        >
      </div>
      <div class="text-xs text-gray-500">
        Leave empty for no limit
      </div>
    </div>
  </div>

  <!-- Sort By -->
  <div class="mb-6">
    <label class="block text-sm font-medium text-gray-700 mb-2">
      Sort By
    </label>
    <select
      [(ngModel)]="filters.sortBy"
      (change)="onFiltersChange()"
      class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
    >
      <option value="">Newest</option>
      <option value="price">Price: Low to High</option>
      <option value="price_desc">Price: High to Low</option>
      <option value="name">Name: A to Z</option>
      <option value="name_desc">Name: Z to A</option>
      <option value="featured">Featured First</option>
    </select>
  </div>

  <!-- Availability Filter -->
  <div class="mb-6">
    <label class="block text-sm font-medium text-gray-700 mb-3">
      Availability
    </label>
    <div class="space-y-2">
      <label class="flex items-center">
        <input
          type="checkbox"
          [(ngModel)]="filters.inStockOnly"
          (change)="onFiltersChange()"
          class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
        >
        <span class="ml-2 text-sm text-gray-700">In Stock Only</span>
      </label>
      <label class="flex items-center">
        <input
          type="checkbox"
          [(ngModel)]="filters.featuredOnly"
          (change)="onFiltersChange()"
          class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
        >
        <span class="ml-2 text-sm text-gray-700">Featured Only</span>
      </label>
    </div>
  </div>

  <!-- Active Filters Summary -->
  <div *ngIf="hasActiveFilters()" class="border-t pt-4">
    <h4 class="text-sm font-medium text-gray-700 mb-2">Active Filters:</h4>
    <div class="space-y-1 text-sm">
      <div *ngIf="filters.categoryId" class="flex items-center justify-between">
        <span>Category: {{ getCategoryName(filters.categoryId) }}</span>
        <button
          (click)="clearCategoryFilter()"
          class="text-red-600 hover:text-red-800"
        >
          ×
        </button>
      </div>
      <div *ngIf="filters.minPrice !== undefined || filters.maxPrice !== undefined" class="flex items-center justify-between">
        <span>Price: ${{ filters.minPrice || 0 }} - ${{ filters.maxPrice || '∞' }}</span>
        <button
          (click)="clearPriceFilter()"
          class="text-red-600 hover:text-red-800"
        >
          ×
        </button>
      </div>
      <div *ngIf="filters.inStockOnly" class="flex items-center justify-between">
        <span>In Stock Only</span>
        <button
          (click)="clearInStockFilter()"
          class="text-red-600 hover:text-red-800"
        >
          ×
        </button>
      </div>
      <div *ngIf="filters.featuredOnly" class="flex items-center justify-between">
        <span>Featured Only</span>
        <button
          (click)="clearFeaturedFilter()"
          class="text-red-600 hover:text-red-800"
        >
          ×
        </button>
      </div>
    </div>
  </div>
</div>